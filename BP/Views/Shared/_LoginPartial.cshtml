@using BP.Infrastructure
@if (Request.IsAuthenticated) {
    
    <p>
        Hello, @Html.ActionLink(User.Identity.Name, "ChangePassword", "Account", routeValues: null, htmlAttributes: new { @class = "username", title = "Change password" })
        @{
            var customProfile = CustomProfile.GetProfile(Profile.UserName);
            if (customProfile  != null)
            {
                <text>@string.Format("(Role: {0})", customProfile.Role)</text>
            }
            
        }
  
        @Html.ActionLink("Log off", "LogOff", "Account")
    </p>
}
else
{
    <ul>
        <li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink", data_dialog_title = "Registration" })</li>
        <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink", data_dialog_title = "Identification" })</li>
    </ul>
}